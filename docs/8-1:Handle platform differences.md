このチュートリアルでは、ユニバーサルアプリを作成する際に、ネイティブとウェブのプラットフォームの違いをどのように扱うかを学びます。

Android、iOS、そしてウェブにはそれぞれ異なる機能がある。私たちの場合、AndroidもiOSもreact-native-view-shotライブラリを使ってスクリーンショットを撮ることができる。しかし、ウェブブラウザではできません。

この章では、アプリがすべてのプラットフォームで同じ機能を持つように、ウェブブラウザのスクリーンショットをキャプチャする方法を学びます。

## dom-to-imageのインストールとインポート
ウェブ上のスクリーンショットをキャプチャし、画像として保存するには、dom-to-imageと呼ばれるサードパーティ製ライブラリを使用します。これは、任意のDOMノードのスクリーンショットを取り込み、ベクター（SVG）またはラスター（PNGまたはJPEG）画像に変換します。

開発サーバーを停止し、以下のコマンドを実行してライブラリをインストールする：
```bash
npm install dom-to-image
```

## プラットフォーム固有のコードを追加する
React NativeのPlatformモジュールを使えば、プラットフォーム固有の動作を実装できる。app/(tabs)/index.tsxの中：

react-nativeからPlatformモジュールをインポートする。
dom-to-imageからdomtoimageライブラリをインポートする。
onSaveImageAsync()関数を更新して、Platform.OSプロパティで現在のプラットフォームが『web』かどうかをチェックする。もし『web』であれば、domtoimage.toJpeg()メソッドを使用して、現在の<View>をJPEG画像に変換してキャプチャします。そうでない場合は、ネイティブ・プラットフォーム用に追加したロジックをそのまま使用します。
